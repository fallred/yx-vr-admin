import{r as u,a6 as k,df as ce,W as N,s as le,V as ue,d5 as de,an as ve,bS as me,bT as fe,bU as pe,al as xe,bV as Ce,ae as L,bw as D,a3 as S,a4 as y,R as c,ac as $,p as Se,S as ge,dd as Ee,dg as _e}from"./index.d85f42cd.js";import{P as he}from"./index.9188d624.js";import{C as ye,D as Ne,P as $e}from"./ProCard.79118da3.js";import{a as be,b as we,t as U}from"./toString.c4f06f52.js";import{a as F,_ as Pe,b as Re,c as V}from"./toInteger.c3565b56.js";import{A as De}from"./index.0647d1d5.js";import"./index.9a267f19.js";var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Me=Te,G=function(e,a){return u.exports.createElement(De,k(k({},e),{},{ref:a,icon:Me}))};G.displayName="QuestionCircleOutlined";var Ie=u.exports.forwardRef(G),ze=9007199254740991,ke=Math.floor;function Ae(r,e){var a="";if(!r||e<1||e>ze)return a;do e%2&&(a+=r),e=ke(e/2),e&&(r+=r);while(e);return a}var Oe=Ae,Le=be,Ue=Le("length"),Fe=Ue,Q="\\ud800-\\udfff",Ve="\\u0300-\\u036f",Ge="\\ufe20-\\ufe2f",Qe="\\u20d0-\\u20ff",We=Ve+Ge+Qe,je="\\ufe0e\\ufe0f",Be="["+Q+"]",P="["+We+"]",R="\\ud83c[\\udffb-\\udfff]",He="(?:"+P+"|"+R+")",W="[^"+Q+"]",j="(?:\\ud83c[\\udde6-\\uddff]){2}",B="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="\\u200d",H=He+"?",q="["+je+"]?",Je="(?:"+qe+"(?:"+[W,j,B].join("|")+")"+q+H+")*",Xe=q+H+Je,Ye="(?:"+[W+P+"?",P,j,B,Be].join("|")+")",A=RegExp(R+"(?="+R+")|"+Ye+Xe,"g");function Ze(r){for(var e=A.lastIndex=0;A.test(r);)++e;return e}var Ke=Ze,et=Fe,tt=F,at=Ke;function rt(r){return tt(r)?at(r):et(r)}var T=rt,O=Oe,nt=we,it=Pe,ot=F,st=T,ct=Re,lt=Math.ceil;function ut(r,e){e=e===void 0?" ":nt(e);var a=e.length;if(a<2)return a?O(e,r):e;var t=O(e,lt(r/st(e)));return ot(e)?it(ct(t),0,r).join(""):t.slice(0,r)}var J=ut,dt=J,vt=T,mt=V,ft=U;function pt(r,e,a){r=ft(r),e=mt(e);var t=e?vt(r):0;return e&&t<e?dt(e-t,a)+r:r}var xt=pt,Ct=J,St=T,gt=V,Et=U;function _t(r,e,a){r=Et(r),e=gt(e);var t=e?St(r):0;return e&&t<e?r+Ct(e-t,a):r}var ht=_t,yt=function(e){var a=e.value,t=e.formatter,n=e.precision,l=e.decimalSeparator,o=e.groupSeparator,i=o===void 0?"":o,s=e.prefixCls,v;if(typeof t=="function")v=t(a);else{var f=String(a),p=f.match(/^(-?)(\d*)(\.(\d+))?$/);if(!p||f==="-")v=f;else{var d=p[1],x=p[2]||"0",m=p[4]||"";x=x.replace(/\B(?=(\d{3})+(?!\d))/g,i),typeof n=="number"&&(m=ht(m,n,"0").slice(0,n)),m&&(m="".concat(l).concat(m)),v=[u.exports.createElement("span",{key:"int",className:"".concat(s,"-content-value-int")},d,x),m&&u.exports.createElement("span",{key:"decimal",className:"".concat(s,"-content-value-decimal")},m)]}}return u.exports.createElement("span",{className:"".concat(s,"-content-value")},v)},Nt=yt,X=function(e){var a=e.prefixCls,t=e.className,n=e.style,l=e.valueStyle,o=e.value,i=o===void 0?0:o,s=e.title,v=e.valueRender,f=e.prefix,p=e.suffix,d=e.loading,x=e.direction,m=e.onMouseEnter,E=e.onMouseLeave,g=u.exports.createElement(Nt,N({},e,{value:i})),h=le(a,ue({},"".concat(a,"-rtl"),x==="rtl"),t);return u.exports.createElement("div",{className:h,style:n,onMouseEnter:m,onMouseLeave:E},s&&u.exports.createElement("div",{className:"".concat(a,"-title")},s),u.exports.createElement(de,{paragraph:!1,loading:d},u.exports.createElement("div",{style:l,className:"".concat(a,"-content")},f&&u.exports.createElement("span",{className:"".concat(a,"-content-prefix")},f),v?v(g):g,p&&u.exports.createElement("span",{className:"".concat(a,"-content-suffix")},p))))};X.defaultProps={decimalSeparator:".",groupSeparator:",",loading:!1};var $t=ce({prefixCls:"statistic"})(X),M=$t,bt=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function wt(r,e){var a=r,t=/\[[^\]]*]/g,n=(e.match(t)||[]).map(function(s){return s.slice(1,-1)}),l=e.replace(t,"[]"),o=bt.reduce(function(s,v){var f=ve(v,2),p=f[0],d=f[1];if(s.indexOf(p)!==-1){var x=Math.floor(a/d);return a-=x*d,s.replace(new RegExp("".concat(p,"+"),"g"),function(m){var E=m.length;return xt(x.toString(),E,"0")})}return s},l),i=0;return o.replace(t,function(){var s=n[i];return i+=1,s})}function Pt(r,e){var a=e.format,t=a===void 0?"":a,n=new Date(r).getTime(),l=Date.now(),o=Math.max(n-l,0);return wt(o,t)}var Rt=1e3/30;function w(r){return new Date(r).getTime()}var Y=function(r){me(a,r);var e=fe(a);function a(){var t;return pe(this,a),t=e.apply(this,arguments),t.syncTimer=function(){var n=t.props.value,l=w(n);l>=Date.now()?t.startTimer():t.stopTimer()},t.startTimer=function(){if(!t.countdownId){var n=t.props,l=n.onChange,o=n.value,i=w(o);t.countdownId=window.setInterval(function(){t.forceUpdate(),l&&i>Date.now()&&l(i-Date.now())},Rt)}},t.stopTimer=function(){var n=t.props,l=n.onFinish,o=n.value;if(t.countdownId){clearInterval(t.countdownId),t.countdownId=void 0;var i=w(o);l&&i<Date.now()&&l()}},t.formatCountdown=function(n,l){var o=t.props.format;return Pt(n,N(N({},l),{format:o}))},t.valueRender=function(n){return xe(n,{title:void 0})},t}return Ce(a,[{key:"componentDidMount",value:function(){this.syncTimer()}},{key:"componentDidUpdate",value:function(){this.syncTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return u.exports.createElement(M,N({valueRender:this.valueRender},this.props,{formatter:this.formatCountdown}))}}]),a}(u.exports.Component);Y.defaultProps={format:"HH:mm:ss"};var Dt=Y;M.Countdown=Dt;var Tt=["className","layout","style","description","children","title","tip","status","trend","prefix","icon"],Mt=function(e){var a,t=e.className,n=e.layout,l=n===void 0?"inline":n,o=e.style,i=o===void 0?{}:o,s=e.description;e.children;var v=e.title,f=e.tip,p=e.status,d=e.trend,x=e.prefix,m=e.icon,E=L(e,Tt),g=u.exports.useContext(D.ConfigContext),h=g.getPrefixCls,C=h("pro-card-statistic"),b=S(C,t),ee=S("".concat(C,"-status")),te=S("".concat(C,"-icon")),ae=S("".concat(C,"-wrapper")),re=S("".concat(C,"-content")),ne=S((a={},y(a,"".concat(C,"-layout-").concat(l),l),y(a,"".concat(C,"-trend-").concat(d),d),a)),I=f&&c.createElement(Se,{title:f},c.createElement(Ie,{className:"".concat(C,"-tip")})),ie=S("".concat(C,"-trend-icon"),y({},"".concat(C,"-trend-icon-").concat(d),d)),z=d&&c.createElement("div",{className:ie}),oe=p&&c.createElement("div",{className:ee},c.createElement(ge,{status:p,text:null})),se=m&&c.createElement("div",{className:te},m);return c.createElement("div",{className:b,style:i},se,c.createElement("div",{className:ae},oe,c.createElement("div",{className:re},c.createElement(M,$({title:(v||I)&&c.createElement(c.Fragment,null,v,I),prefix:(z||x)&&c.createElement(c.Fragment,null,z,x),className:ne},E)),s&&c.createElement("div",{className:"".concat(C,"-description")},s))))},Z=Mt;var It=function(e){var a=e.className,t=e.style,n=t===void 0?{}:t,l=e.children,o=u.exports.useContext(D.ConfigContext),i=o.getPrefixCls,s=i("pro-card-operation"),v=S(s,a);return c.createElement("div",{className:v,style:n},l)},zt=It;var kt=["children","statistic","className","chart","chartPlacement","footer"],_=function(e){var a,t=e.children,n=e.statistic,l=e.className,o=e.chart,i=e.chartPlacement,s=e.footer,v=L(e,kt),f=u.exports.useContext(D.ConfigContext),p=f.getPrefixCls,d=p("pro-statistic-card"),x=S(d,l),m=n&&c.createElement(Z,$({layout:"vertical"},n)),E=S("".concat(d,"-chart"),(a={},y(a,"".concat(d,"-chart-left"),i==="left"&&o&&n),y(a,"".concat(d,"-chart-right"),i==="right"&&o&&n),a)),g=o&&c.createElement("div",{className:E},o),h=S("".concat(d,"-content"),y({},"".concat(d,"-content-horizontal"),i==="left"||i==="right")),C=(g||m)&&(i==="left"?c.createElement("div",{className:h},g,m):c.createElement("div",{className:h},m,g)),b=s&&c.createElement("div",{className:"".concat(d,"-footer")},s);return c.createElement(ye,$({className:x},v),C,t,b)},At=function(e){return c.createElement(_,$({bodyStyle:{padding:0}},e))};_.Statistic=Z;_.Divider=Ne;_.Operation=zt;_.isProCard=!0;_.Group=At;var K=_;const{Statistic:Ot}=K,jt=()=>{const{data:r}=Ee(),e=_e();u.exports.useState(!1);const[a,t]=u.exports.useState(""),[n,l]=u.exports.useState([]);u.exports.useEffect(()=>{var s;const i=(s=r==null?void 0:r[0])==null?void 0:s.appId;t(i)},[r]),u.exports.useEffect(async()=>{const i=await e({appId:a});l(i)},[a]);const o=n==null?void 0:n.map(i=>{var v;const s=(v=i==null?void 0:i.list)==null?void 0:v.map(f=>c.createElement(K,{statistic:{title:f.name,value:f.value,description:c.createElement(Ot,{title:"\u73AF\u6BD4",value:i.link_relative_ratio,trend:i.link_relative_ratio>0?"up":"down"})}}));return c.createElement($e,{key:i.key,title:i.name,extra:"2019\u5E749\u670828\u65E5",split:"vertical",headerBordered:!0,bordered:!0},s)});return c.createElement(he,{className:"report-list"},o)};export{jt as default};
